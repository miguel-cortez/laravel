# CONFIGURAR VUE

## Paso 1. Instalar vue y las dependencias adicionales.

```
npm install vue@latest vue-router@latest @vitejs/plugin-vue
```

![image](./img/install_vue_and_dependencies.png)   
## Paso 2. Configurar vite para que funcione con vue.
Las configuraciones se realizar谩n en `vite.config.js` 

Configuraciones originales:  

```javascript
import { defineConfig } from 'vite';
import laravel from 'laravel-vite-plugin';

export default defineConfig({
    plugins: [
        laravel({
            input: ['resources/css/app.css', 'resources/js/app.js'],
            refresh: true,
        }),
    ],
});
```
Configuraciones modificadas:  

```javascript
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue'; // L铆nea agregada
import laravel from 'laravel-vite-plugin';

export default defineConfig({
    plugins: [
        laravel({
            input: ['resources/js/app.js'],
            refresh: true,
        }),
        vue(), //  L铆nea agregada
    ],
});
```

Se agregaron las siguientes l铆neas:  

a) `import vue from '@vitejs/plugin-vue';`  
b) `vue(),`  

## Paso 3. Crear un punto de entrada para la aplicaci贸n Vue.

:bulb: Nota. Es com煤n crear un archivo llamado `app.js` con las configuraciones de la aplicaci贸n `vue`; pero en mi caso, ya tengo un archivo con ese nombre y por esa raz贸n le llamar茅 `appVue.js`  

El archivo ser谩 creado en :file_folder: ` resources\js`

El contenido del archivo ser谩 el siguiente:  

```javascript
import { createApp } from 'vue';
import App from './components/App.vue';
createApp(App).mount('#app');
```
:speech_balloon: Si ha seguido la primera gu铆a, yo hab铆a creado un archivo llamado **AppComponent.vue**; pero finalmente decid铆 llamarle **App.vue** que es lo m谩s habitual.  
## Paso 4. Crear un componente de vue

Antes de crear el primer componente, vamos a crear una carpeta llamada `components` en el directorio `resources\js` 

Despu茅s de creada la carpeta, agregue un nuevo archivo llamado `App.vue` dentro del directorio `resources\js\components`  

El contenido del archivo `App.vue` ser谩 el siguiente: 

```javascript
<template>
    <div>
        <h1>Bienvenido a Laravel 12 y Vue 3</h1>
    </div>
</template>
```

## Paso 5. Configurar la aplicaci贸n Vue.

Para que se ejecute la aplicaci贸n Vue debemos hacer dos cosas:  
1. Cargar el archivo `appVue.js` con @vite(...). Normalmente esto se hace en el archivo `resources/views/layouts.app.blade.php`, pero debido a que tengo configurado AdminLTE tratar茅 de hacerlo en otro lugar que m谩s adelante explicar茅.
2. Crear un div donde ser谩 cargada la aplicaci贸n Vue. En este ejemplo el div se crear谩 as铆 `<div id="app"></div>` 

### Cargar el script appVue.js
Vamos a agregar una l铆nea en `vendor\jeroennoten\laravel-adminlte\resources\views\master.blade.php`.  

Localice la l铆nea `</head>` y justo arriba coloque la instrucci贸n `@vite(['resources/css/app.css', 'resources/js/app.js', 'resources/js/appVue.js'])`

### Crear un div para mostrar los resultados
Con lo anterior ya se ejecutar谩 la aplicaci贸n de Vue, pero falta definir d贸nde se mostrar谩 su contenido.

Vaya al archivo `resources\views\dashboard.blade.php` y agregue la l铆nea `<div id="app"></div>` como se ve en el siguiente c贸digo:  

```php
@extends('adminlte::page')

@section('title', 'Dashboard')

@section('content_header')
    <h1>Dashboard</h1>
@stop

@section('content')
    <p>Welcome to this beautiful admin panel.</p>
    <div id="app"></div>
@stop

@section('css')
    {{-- Add here extra stylesheets --}}
    {{-- <link rel="stylesheet" href="/css/admin_custom.css"> --}}
@stop

@section('js')
    <script> console.log("Hi, I'm using the Laravel-AdminLTE package!"); </script>
@stop
```

### Configuraci贸n t铆pica (omita este paso)
<details>
<summary>Si no estuviera utilizando la plantilla AdminLTE, las configuraciones ser铆an estas</summary>  

La actualizaci贸n se har谩 en el archivo `resources/views/layouts/app.blade.php` 

Contenido original: 

```php
<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="{{ csrf_token() }}">

        <title>{{ config('app.name', 'Laravel') }}</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />

        <!-- Scripts -->
        @vite(['resources/css/app.css', 'resources/js/app.js'])
    </head>
    <body class="font-sans antialiased">
        <div class="min-h-screen bg-gray-100">
            @include('layouts.navigation')

            <!-- Page Heading -->
            @isset($header)
                <header class="bg-white shadow">
                    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
                        {{ $header }}
                    </div>
                </header>
            @endisset

            <!-- Page Content -->
            <main>
                {{ $slot }}
            </main>
        </div>
    </body>
</html>
```

Contenido modificado:  

```php
<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="{{ csrf_token() }}">

        <title>{{ config('app.name', 'Laravel') }}</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />

        <!-- Scripts -->
        @vite(['resources/css/app.css', 'resources/js/app.js', 'resources/js/appVue.js'])
    </head>
    <body class="font-sans antialiased">
        <div class="min-h-screen bg-gray-100">
            @include('layouts.navigation')

            <!-- Page Heading -->
            @isset($header)
                <header class="bg-white shadow">
                    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
                        {{ $header }}
                    </div>
                </header>
            @endisset

            <!-- Page Content -->
            <main>
                 <div id="app"></div>
            </main>
        </div>
    </body>
</html>
```
:green_book: Se ha modificado la l铆nea `@vite(['resources/css/app.css', 'resources/js/app.js'])` por  `@vite(['resources/css/app.css', 'resources/js/app.js', 'resources/js/appVue.js'])`. Se borr贸 `{{ $slot }}` y en su lugar se ecribi贸 `<div id="app"></div>`  

Le sugiero que analice qu茅 hace `{{ $slot }}`. Puede hacerlo ejecutando la aplicaci贸n con esta instrucci贸n y luego sin ella. Note la diferencia en la aplicaci贸n web (en el navegador web).  
</details>  

### Ejecute la aplicaci贸n

Consola 1:  
```
npm run dev
```

Consola 2:  
```
php artisan serve
```

Acceda a: `http://localhost:8000`  


![image](./img/app_vue_cargada.png)  

:bulb: Puede saber que se carg贸 la aplicaci贸n vue porque se muestra el mensaje **Bienvenido a Laravel 12 y Vue 3**  

# Referencias

https://dev.to/robin-ivi/laravel-12-and-vue-3-ultimate-starter-guide-3bmd

